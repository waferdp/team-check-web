(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/team-check-web/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"4af3":function(t,e,s){"use strict";s("f3d8")},"4b00":function(t,e,s){},"53ed":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("b0c0");var a=s("2b0e"),n=s("2f62"),i=s("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header",[s("div",{staticClass:"container mt-5"},[s("b-navbar",{staticClass:"container",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("h1",[t._v(t._s(t.currentTeam||"Team")+" Self Assessment")])]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",{staticClass:"ml-auto"},[s("router-link",{attrs:{to:"/team-selector",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate,n=e.isActive;return[s("b-nav-item",{attrs:{active:n,role:"button",right:""},on:{click:a}},[s("span",{staticClass:"nav-link"},[t._v("Team")])])]}}])}),s("router-link",{attrs:{to:"/performance-checklist",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate,n=e.isActive;return[s("b-nav-item",{attrs:{active:n,role:"button",right:""},on:{click:a}},[s("span",{staticClass:"nav-link"},[t._v("Survey")])])]}}])}),s("router-link",{attrs:{to:"/team-assessment",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate,n=e.isActive;return[s("b-nav-item",{staticClass:"align-right",attrs:{active:n,role:"button",right:""},on:{click:a}},[s("span",{staticClass:"nav-link"},[t._v("Assessment")])])]}}])})],1)],1)],1)],1)]),s("main",[s("div",{staticClass:"container"},[s("router-view",{on:{select:t.selectTeam}},[s("team-selector"),s("performance-checklist"),s("team-assessment")],1)],1)])])},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasData?s("div",[s("ul",{staticClass:"list-group"},t._l(t.getPage().items,(function(e){return s("checklist-item",{key:e.index,attrs:{item:e},on:{update:t.update}})})),1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[t.isFirstPage?t._e():s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.prevPage}},[t._v("Previous")])]),s("div",{staticClass:"offset-md-2 col-md-2"},[s("span",[t._v("Page "+t._s(t.pagination.currentPage))])]),s("div",{staticClass:"offset-md-3 col-md-2 float-right"},[t.isLastPage?t._e():s("button",{staticClass:"btn btn-outline-primary float-right",attrs:{type:"button"},on:{click:t.nextPage}},[t._v("Next")]),t.isLastPage?s("input",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"},on:{click:t.postSurvey}}):t._e()])]),t.errors.length?s("div",{staticClass:"row"},t._l(t.errors,(function(e){return s("div",{key:e.page,staticClass:"col-md-12"},[s("div",{staticClass:"alert alert-danger",attrs:{role:"button"},on:{click:function(s){return t.gotoPage(e.page)}}},[t._v(" "+t._s(e.message)+" ")])])})),0):t._e()]):t._e()},l=[],u=(s("d81d"),s("99af"),s("fb6a"),s("d3b7"),s("159b"),s("4de4"),s("e9c4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-group-item border"},[s("div",{staticClass:"mt-3"},[s("span",[t._v(t._s(t.item.index+1)+": "+t._s(t.item.key))])]),s("div",{staticClass:"row mt-5 mb-3 m-1"},[s("div",{staticClass:"col-md-12 col-lg-3 form-check form-check-inline mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.value,expression:"item.value"}],staticClass:"form-check-input",attrs:{type:"radio",id:t.item.index+"-1",name:t.item.index},domProps:{value:1,checked:t._q(t.item.value,1)},on:{change:[function(e){return t.$set(t.item,"value",1)},t.updateItem]}}),s("label",{staticClass:"form-check-label",attrs:{role:"button",for:t.item.index+"-1"}},[t._v("1. Disagree strongly")])]),s("div",{staticClass:"col-md-12 col-lg-3 form-check form-check-inline mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.value,expression:"item.value"}],staticClass:"form-check-input",attrs:{type:"radio",id:t.item.index+"-2",name:t.item.index},domProps:{value:2,checked:t._q(t.item.value,2)},on:{change:[function(e){return t.$set(t.item,"value",2)},t.updateItem]}}),s("label",{staticClass:"form-check-label",attrs:{role:"button",for:t.item.index+"-2"}},[t._v("2. Disagree to some extent")])]),s("div",{staticClass:"col-md-12 col-lg-3 form-check form-check-inline mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.value,expression:"item.value"}],staticClass:"form-check-input",attrs:{type:"radio",id:t.item.index+"-3",name:t.item.index},domProps:{value:3,checked:t._q(t.item.value,3)},on:{change:[function(e){return t.$set(t.item,"value",3)},t.updateItem]}}),s("label",{staticClass:"form-check-label",attrs:{role:"button",for:t.item.index+"-3"}},[t._v("3. Agree to some extent")])]),s("div",{staticClass:"col-md-12 col-lg-2 form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.value,expression:"item.value"}],staticClass:"form-check-input",attrs:{type:"radio",id:t.item.index+"-4",name:t.item.index},domProps:{value:4,checked:t._q(t.item.value,4)},on:{change:[function(e){return t.$set(t.item,"value",4)},t.updateItem]}}),s("label",{staticClass:"form-check-label",attrs:{role:"button",for:t.item.index+"-4"}},[t._v("4. Agree strongly")])])])])}),m=[],d=(s("a9e3"),{name:"checklist-item",props:{item:{index:String,key:String,value:Number}},methods:{updateItem:function(){this.$emit("update")}},components:{}}),h=d,f=s("2877"),p=Object(f["a"])(h,u,m,!1,null,null,null),v=p.exports,g={checklistQuestions:"/performance_checklist.json",checklistApi:"https://jacob-team-check.azurewebsites.net//api/performance-checklists"};function b(t,e){var s="Question".concat(t.length>1?"s":""," ")+" ".concat(t.map((function(t){return t.question+1})))+" on page ".concat(e," ").concat(t.length>1?"are":"is"," not answered");return s}var _={name:"performance-checklist",components:{ChecklistItem:v},data:function(){return{questions:[],errors:[],pagination:{currentPage:1,totalPages:function(){return this.hasData()?Math.floor(this.questions.length/this.itemsPerPage)+1:0},itemsPerPage:5},loading:!1}},created:function(){var t=this;this.$store.state.questions?this.questions=this.$store.state.questions:this.fetchQuestions().then((function(e){t.questions=e.map((function(t,e){return{index:e,key:t,value:null}}))}))},computed:{hasData:function(){return this.questions.length>0},isFirstPage:function(){return this.pagination.currentPage<=1},isLastPage:function(){return this.pagination.currentPage*this.pagination.itemsPerPage>=this.questions.length}},methods:{getPage:function(){var t=this.pagination.currentPage*this.pagination.itemsPerPage,e=t-this.pagination.itemsPerPage,s=this.questions.slice(e,t);return{pagination:this.pagination,items:s}},getTeamId:function(){var t;return null===(t=this.$store.state.team)||void 0===t?void 0:t.id},nextPage:function(){this.pagination.currentPage++},prevPage:function(){this.pagination.currentPage--},gotoPage:function(t){this.pagination.currentPage=t},update:function(){this.$store.state.questions=this.questions},fetchQuestions:function(){var t=this;return this.loading=!0,fetch(g.checklistQuestions).then((function(t){return t.json()})).then((function(e){return t.loading=!1,e}))},validateForm:function(){var t=this,e=[];this.questions.forEach((function(s){if(!s.value){var a={question:s.index,page:Math.floor(s.index/t.pagination.itemsPerPage)};e.push(a)}}));for(var s=[],a=Math.floor(this.questions.length/this.pagination.itemsPerPage),n=0;n<a;n++){var i=n+1,r=e.filter((function(t){return t.page===n}));if(r.length){var o={page:i,message:b(r,i)};s.push(o)}}this.getTeamId()||s.push({page:0,message:"Team not selected"}),this.errors=s},postSurvey:function(){var t=this;if(this.validateForm(),!this.errors.length){var e={teamId:this.getTeamId(),items:this.questions};fetch(g.checklistApi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){console.log(e),t.$router.push({name:"team-assessment"})}))}}}},k=_,C=Object(f["a"])(k,c,l,!1,null,null,null),T=C.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group mt-3"},[s("h2",[t._v("Select team")]),s("b-form-select",{attrs:{id:"select-team",disabled:!!t.loading&&"disabled"},on:{change:t.updateState},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("option",{attrs:{disabled:"",value:"null"}},[t._v("Please choose / create a team")]),s("optgroup",t._l(t.teams,(function(e){return s("option",{key:e.id},[t._v(t._s(e.name))])})),0),t.newTeam?t._e():s("optgroup",[s("option",{domProps:{value:null}},[t._v("Create new team")])])])],1),t.newTeam?s("div",{staticClass:"form-group mb-5"},[s("h4",[t._v("Create team")]),s("form",{staticClass:"input-group"},[s("label",{staticClass:"input-group-text",attrs:{for:"new-team-name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTeam.name,expression:"newTeam.name"}],ref:"teamName",staticClass:"form-control",attrs:{id:"new-team-name"},domProps:{value:t.newTeam.name},on:{input:function(e){e.target.composing||t.$set(t.newTeam,"name",e.target.value)}}}),s("button",{staticClass:"input-group-button",attrs:{id:"add-team"},on:{click:t.addTeam,submit:t.addTeam}},[t._v(" Create ")])])]):t._e()])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("sausage-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"middle position-fixed"})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[t.selectedTeam?s("div",{staticClass:"card"},[s("div",{staticClass:"corner-button"},[s("b-dropdown",{staticClass:"float-right",attrs:{right:"",text:"Right align",variant:"link","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-icon",{attrs:{icon:"three-dots-vertical","font-scale":"1"}})]},proxy:!0}],null,!1,3460544904)},[s("b-dropdown-item",{on:{click:t.deleteTeam}},[s("span",[t._v("Delete")])])],1)],1),s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title"},[t._v(t._s(t.selectedTeam.name))]),s("p",{staticClass:"card-text"},[t._v(t._s(t.selectedTeam.description))])])]):t._e()])]),t.selectedTeam?s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"offset-md-9 col-md-3 align-right"},[s("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:t.startSurvey}},[t._v("Start Survey")])])]):t._e()])},w=[],P=(s("7db0"),s("c740"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"spinner",attrs:{viewBox:"0 0 100 100",height:"150px",width:"150px"}},[s("clipPath",{attrs:{id:"clip2"}},[s("path",{attrs:{d:"M 49.955078,14 C 30.09038,14.024795 13.999995,30.139653 14,50.009766 14.000011,69.897413 30.117757,86.019531 50,86.019531 57.533391,86.019206 64.876872,83.654947 70.996094,79.259766 70.996094,79.259766 73.597282,76.983176 71.980949,73.353833 74.079878,74.053433 75.940813,74.393659 77.127218,73.564393 76.343164,71.278568 73.11648,68.028655 70.974963,67.129418 70.1305,67.938022 70.191226,69.173407 70.555185,71.363707 68.203379,68.32163 63.9375,69.537109 63.9375,69.537109 59.869582,72.439459 54.997159,73.999645 50,74 36.745166,74 26,63.254834 26,50 25.999491,36.827107 36.616678,26.115778 49.789062,26 49.859374,25.999691 49.929688,25.999691 50,26 63.254834,26 74,36.745166 74,50 74,50 74.29272,52.885855 78.241492,53.642345 76.253618,53.915104 75.706495,55.251097 75.294878,56.510437 77.418848,57.575421 80.436759,57.479751 83.181759,57.155104 82.829984,55.428199 82.702987,54.319008 80.795482,53.862423 85.020033,53.755924 86.000924,50.283644 86,50.009766 85.99999,30.122118 69.882244,14 50,14 Z"}})]),s("path",{staticClass:"path",attrs:{"clip-path":"url(#clip2)",d:"M 66.421312,61.416675 C 60.11606,70.485915 47.652564,72.726567 38.583325,66.421312 29.514085,60.11606 27.273433,47.652564 33.578688,38.583325 39.88394,29.514085 52.347436,27.273433 61.416675,33.578688 70.485915,39.88394 72.726567,52.347436 66.421312,61.416675"}})])}),x=[],S={name:"sausage-spinner"},A=S,j=(s("5d48"),Object(f["a"])(A,P,x,!1,null,"4515b2e8",null)),$=j.exports,q={teamApi:"https://jacob-team-check.azurewebsites.net//api/teams",teamMemberApi:function(t){return"https://jacob-team-check.azurewebsites.net//api/teams/"+t}},O={name:"team-selector",components:{SausageSpinner:$},created:function(){this.updateTeams(),this.$store.state.team&&(this.selectedTeam=this.$store.state.team,this.selected=this.selectedTeam.name)},data:function(){return{selected:null,selectedTeam:null,loading:!1,newTeam:null,teams:[]}},computed:{canAdd:function(){var t=this.selectedTeam.members.every((function(t){return t.id}));return t}},methods:{updateState:function(){var t=this;null==this.selected?this.createEmptyTeam():this.newTeam=null,this.selectedTeam=this.teams.find((function(e){return e.name==t.selected})),this.$store.state.team=this.selectedTeam,this.$emit("select",this.selected)},fetchTeams:function(){var t=this;return this.loading=!0,fetch(q.teamApi).then((function(t){return t.json()})).then((function(e){return t.loading=!1,e}))},updateTeams:function(){var t=this;return this.fetchTeams().then((function(e){return t.teams=e,e}))},postTeam:function(t){return fetch(q.teamApi,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()}))},addTeam:function(){var t=this;return this.postTeam(this.newTeam).then((function(e){t.newTeam=null,t.updateTeams().then((function(){t.selected=e.name,t.updateState()}))}))},updateTeam:function(t){var e=t.id,s=this.teams.findIndex((function(t){return t.id==e}));this.selectedTeam.id==this.teams[s].id&&(this.selectedTeam=t),this.teams[s]=t},createEmptyTeam:function(){var t=this;this.newTeam={name:""},a["default"].nextTick().then((function(){t.$refs.teamName.focus()}))},deleteTeam:function(){var t=this,e=this.selectedTeam.id;return fetch(q.teamApi+"/"+e,{method:"DELETE"}).then((function(){t.selected=null,t.teams=t.teams.filter((function(t){return t.id!=e})),t.updateState()}))},startSurvey:function(){this.$router.push({name:"performance-checklist"})}}},N=O,I=(s("bdf3"),Object(f["a"])(N,y,w,!1,null,null,null)),E=I.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t._e():s("div",[t.assessment?s("div",[s("h2",[t._v("Assessment Summary")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},["FormingStorming"==t.assessment.stage?s("img",{staticClass:"stage",attrs:{src:"forming_storming.png"}}):t._e(),"Norming"==t.assessment.stage?s("img",{staticClass:"stage",attrs:{src:"norming.png"}}):t._e(),"Performing"==t.assessment.stage?s("img",{staticClass:"stage",attrs:{src:"performing.png"}}):t._e()])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{domProps:{innerHTML:t._s(t.markdownToHtml)}})])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("span",[t._v("Your average score is "+t._s(t.assessment.average))])])]),t.assessment.high.length?s("div",{staticClass:"mt-5"},[s("h3",[t._v("Assessment Strengths")]),s("ul",t._l(t.assessment.high,(function(e){return s("li",{key:e.key},[s("span",[t._v(t._s(e.key)+": "+t._s(e.value))])])})),0)]):t._e(),t.assessment.low.length?s("div",{staticClass:"mt-5"},[s("h3",[t._v("Assessment Weaknesses")]),s("ul",t._l(t.assessment.low,(function(e){return s("li",{key:e.key},[s("span",[t._v(t._s(e.key)+": "+t._s(e.value))])])})),0)]):t._e()]):t._e(),t.error?s("div",{staticClass:"alert alert-danger"},[s("span",[t._v(t._s(t.error))])]):t._e()])},D=[],z=s("7c5c"),F={teamAssessmentApi:"https://jacob-team-check.azurewebsites.net//api/team-assessments",teamAssesmentStatic:"https://red-stone-0d08f6603.azurestaticapps.net/"},L={data:function(){return{assessment:null,loading:!0,error:null,markdownToHtml:null}},computed:{hasData:function(){return 1==this.assessment}},created:function(){var t=this;this.fetchAssessment().then((function(e){t.loading=!1,t.assessment=e,t.fetchStaticAssesmentText(e.stage).then((function(e){t.markdownToHtml=z.marked(e)}))})).catch((function(e){t.loading=!1,t.error='Assessment "'+e.statusText+'" for team "'+t.getTeamName()+'"'}))},methods:{getTeamId:function(){var t;return null===(t=this.$store.state.team)||void 0===t?void 0:t.id},getTeamName:function(){var t;return null===(t=this.$store.state.team)||void 0===t?void 0:t.name},fetchAssessment:function(){var t=this.getTeamId(),e=F.teamAssessmentApi;return t&&(e+="?teamId="+t),fetch(e).then((function(t){if(t.ok)return t.json();throw t}))},fetchStaticAssesmentText:function(t){var e="".concat(F.teamAssesmentStatic,"/").concat(t,".md");return fetch(e).then((function(t){if(t.ok)return t.text();throw t}))}}},Q=L,H=(s("4af3"),Object(f["a"])(Q,M,D,!1,null,null,null)),J=H.exports,B={name:"App",components:{PerformanceChecklist:T,TeamSelector:E,TeamAssessment:J},data:function(){return{currentTeam:null}},methods:{selectTeam:function(t){this.currentTeam=t}}},R=B,W=(s("cf46"),Object(f["a"])(R,r,o,!1,null,"53d07728",null)),Y=W.exports,Z=s("5f5b"),G=s("b1e0");a["default"].use(Z["a"]),a["default"].use(G["a"]),a["default"].use(i["a"]);var K={path:"/performance-checklist",name:"performance-checklist",component:T},U={path:"/team-selector",name:"team-selector",component:E},V={path:"/team-assessment",name:"team-assessment",component:J};a["default"].use(n["a"]);var X=new n["a"].Store({state:{team:null,questions:null},mutations:{selectTeam:function(t){this.state.team=t},updateSurvey:function(t){this.state.questions=t}}}),tt=new i["a"]({routes:[U,K,V]});tt.beforeEach((function(t,e,s){"team-selector"===t.name||X.state.team?s():s({name:"team-selector"})})),a["default"].config.productionTip=!1,new a["default"]({router:tt,store:X,render:function(t){return t(Y)}}).$mount("#app")},"5d48":function(t,e,s){"use strict";s("d6d8")},bdf3:function(t,e,s){"use strict";s("53ed")},cf46:function(t,e,s){"use strict";s("4b00")},d6d8:function(t,e,s){},f3d8:function(t,e,s){}});
//# sourceMappingURL=app.18b2d4ca.js.map